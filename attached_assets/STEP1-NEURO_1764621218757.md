# üé® PASO 1: CARDS NEURO-HOOKED - IMPLEMENTACI√ìN T√âCNICA

## üìã RESUMEN EJECUTIVO

**Componente:** ListCreationStep1 (Tipo de Lista)  
**Tiempo:** 2-3 horas  
**Resultado:** Production-ready cards con animations  
**Equipo:** 1 Frontend Dev + 1 Backend Dev (paralelo)

---

## üéØ OBJETIVO

Convertir la selecci√≥n de tipo de lista en una experiencia adictiva que dispare dopamina en cada clic.

---

## üì± ESTRUCTURA DE CARPETAS

```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ListCreation/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ListCreationStep1.jsx          ‚Üê MAIN COMPONENT
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventCard.jsx                  ‚Üê CARD INDIVIDUAL
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GlitterEffect.jsx              ‚Üê ANIMACI√ìN PART√çCULAS
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ListCreationStep1.module.css
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ EventCard.module.css
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ animations.css
‚îÇ   ‚îî‚îÄ‚îÄ hooks/
‚îÇ       ‚îî‚îÄ‚îÄ useListCreation.js             ‚Üê CONTEXT HOOK
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ eventTypes.js                      ‚Üê CONFIGURACI√ìN CARDS
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ analytics.js                       ‚Üê GA4 TRACKING
```

---

## üé® DATOS: eventTypes.js

```javascript
export const EVENT_TYPES = [
  {
    id: 'birthday',
    title: 'Cumplea√±os',
    emoji: 'üéÇ',
    emojiColor: '#FFB800',
    microCopy: '¬°La fiesta es aqu√≠! Consigue los regalos perfectos sin preguntar a nadie.',
    gamification: '+12 Ideas de Regalo üí°',
    primaryColor: '#FF9800',
    secondaryColor: '#DCF5E3',
    accentColor: '#22C55E',
  },
  {
    id: 'christmas',
    title: 'Navidad',
    emoji: 'üéÑ',
    emojiColor: '#10B981',
    microCopy: 'La magia de las fiestas, cero estr√©s. ¬°Encuentra El Regalo antes que nadie!',
    gamification: '+18 Ideas Exclusivas üéÅ',
    primaryColor: '#10B981',
    secondaryColor: '#DCFCE7',
    accentColor: '#22C55E',
  },
  {
    id: 'wedding',
    title: 'Boda',
    emoji: 'üíç',
    emojiColor: '#EC4899',
    microCopy: 'Construyan su futuro. Eviten duplicados y reciban solo lo que desean.',
    gamification: '+24 Combinaciones Perfectas ‚ù§Ô∏è',
    primaryColor: '#EC4899',
    secondaryColor: '#FDF0F5',
    accentColor: '#22C55E',
  },
  {
    id: 'baby_shower',
    title: 'Baby Shower',
    emoji: 'üë∂',
    emojiColor: '#3B82F6',
    microCopy: 'Prepara la bienvenida. Haz que recibir regalos sea tan f√°cil como un paseo.',
    gamification: '+20 Regalos Perfectos para el Beb√© üçº',
    primaryColor: '#3B82F6',
    secondaryColor: '#EFF6FF',
    accentColor: '#22C55E',
  },
  {
    id: 'other',
    title: 'Otro',
    emoji: 'üìå',
    emojiColor: '#6B7280',
    microCopy: 'Tu evento, tus reglas. Define lo que importa.',
    gamification: '+15 Plantillas Personalizables ‚öôÔ∏è',
    primaryColor: '#6B7280',
    secondaryColor: '#F3F4F6',
    accentColor: '#22C55E',
  },
];
```

---

## üé¨ ANIMACIONES: animations.css

```css
/* PULSE EFFECT - Selecci√≥n */
@keyframes cardPulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.03);
  }
  100% {
    transform: scale(1);
  }
}

.card.selected {
  animation: cardPulse 150ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* GLITTER PARTICLES - Efecto brillo */
@keyframes glitterFly {
  0% {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(var(--tx), var(--ty)) scale(0);
  }
}

.glitter-particle {
  position: fixed;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  pointer-events: none;
  animation: glitterFly 400ms ease-out forwards;
}

/* FADE IN - Transiciones entre pasos */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.step-content {
  animation: fadeIn 300ms ease-out;
}

/* HOVER STATE - Pre-clic */
@keyframes hoverGlow {
  from {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  }
  to {
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
  }
}

.card:hover {
  animation: hoverGlow 200ms ease-out forwards;
}
```

---

## üíª COMPONENTE PRINCIPAL: ListCreationStep1.jsx

```javascript
import React, { useState, useContext } from 'react';
import { ListCreationContext } from '../../contexts/ListCreationContext';
import EventCard from './EventCard';
import { EVENT_TYPES } from '../../data/eventTypes';
import { trackEvent } from '../../utils/analytics';
import styles from './styles/ListCreationStep1.module.css';

const ListCreationStep1 = ({ onNext }) => {
  const { listData, setListData } = useContext(ListCreationContext);
  const [selectedType, setSelectedType] = useState(null);
  const [listName, setListName] = useState(listData.name || '');
  const [nameError, setNameError] = useState('');

  // VALIDACI√ìN: Nombre
  const handleNameChange = (e) => {
    const value = e.target.value;
    if (value.length <= 50) {
      setListName(value);
      setNameError('');
    } else {
      setNameError('M√°ximo 50 caracteres');
    }
  };

  // SELECCI√ìN: Tipo de evento
  const handleCardClick = (typeId) => {
    setSelectedType(typeId);
    
    // GA4 TRACKING
    trackEvent('step1_card_selected', {
      event_type: typeId,
    });
  };

  // NAVEGACI√ìN: Ir al siguiente paso
  const handleNext = () => {
    if (!listName.trim()) {
      setNameError('Por favor, ingresa un nombre');
      return;
    }
    if (!selectedType) {
      alert('Por favor, selecciona un tipo de evento');
      return;
    }

    // Guardar en context
    setListData({
      ...listData,
      name: listName,
      event_type: selectedType,
    });

    // GA4 TRACKING
    trackEvent('step1_completed', {
      event_type: selectedType,
      list_name: listName,
    });

    onNext();
  };

  const isCompleted = listName.trim() && selectedType;

  return (
    <div className={styles.container}>
      {/* HEADER */}
      <div className={styles.header}>
        <button className={styles.backButton}>‚Üê Volver</button>
      </div>

      {/* PROGRESS BAR */}
      <div className={styles.progressContainer}>
        <span className={styles.stepIndicator}>Paso ‚ë† de ‚ë¢</span>
        <div className={styles.progressBar}>
          <div className={styles.progressFill} style={{ width: '33%' }}></div>
        </div>
      </div>

      {/* MAIN CONTENT */}
      <div className={`${styles.stepContent} step-content`}>
        
        {/* T√çTULO */}
        <h2 className={styles.title}>¬øPara qu√© evento es esta lista?</h2>

        {/* INPUT: NOMBRE DE LA LISTA */}
        <div className={styles.formGroup}>
          <label className={styles.label}>Nombre de la Lista</label>
          <input
            type="text"
            className={`${styles.input} ${nameError ? styles.inputError : ''}`}
            placeholder="Ej: Cumplea√±os de mi hijo Mateo"
            value={listName}
            onChange={handleNameChange}
            maxLength={50}
          />
          <div className={styles.charCount}>
            {listName.length}/50 caracteres
          </div>
          {nameError && <span className={styles.error}>{nameError}</span>}
        </div>

        {/* SELECTOR: TIPO DE EVENTO */}
        <div className={styles.cardGrid}>
          <label className={styles.sectionLabel}>Tipo de Evento (Elige una opci√≥n):</label>
          <div className={styles.cardsContainer}>
            {EVENT_TYPES.map((eventType) => (
              <EventCard
                key={eventType.id}
                event={eventType}
                isSelected={selectedType === eventType.id}
                onClick={() => handleCardClick(eventType.id)}
              />
            ))}
          </div>
        </div>

        {/* BOT√ìN: SIGUIENTE */}
        <button
          className={`${styles.button} ${!isCompleted ? styles.buttonDisabled : ''}`}
          onClick={handleNext}
          disabled={!isCompleted}
        >
          Siguiente: ¬øQui√©n la Usar√°? ‚Üí
        </button>
      </div>
    </div>
  );
};

export default ListCreationStep1;
```

---

## üé¥ COMPONENTE CARD: EventCard.jsx

```javascript
import React, { useState } from 'react';
import GlitterEffect from './GlitterEffect';
import styles from './styles/EventCard.module.css';

const EventCard = ({ event, isSelected, onClick }) => {
  const [glitterParticles, setGlitterParticles] = useState([]);

  // TRIGGER GLITTER EFFECT
  const handleCardClick = (e) => {
    if (!isSelected) {
      // Crear part√≠culas de brillo
      const rect = e.currentTarget.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;

      const particles = [];
      for (let i = 0; i < 7; i++) {
        const angle = (i / 7) * Math.PI * 2;
        const distance = 50;
        const x = Math.cos(angle) * distance;
        const y = Math.sin(angle) * distance;

        particles.push({
          id: `${Date.now()}-${i}`,
          x: centerX,
          y: centerY,
          tx: x,
          ty: y,
        });
      }

      setGlitterParticles(particles);

      // Limpiar part√≠culas despu√©s de animaci√≥n
      setTimeout(() => setGlitterParticles([]), 400);
    }

    onClick();
  };

  return (
    <>
      <div
        className={`${styles.card} ${isSelected ? styles.selected : ''}`}
        onClick={handleCardClick}
        style={{
          borderColor: isSelected ? event.accentColor : '#e5e7eb',
          backgroundColor: isSelected ? event.secondaryColor : '#fcfcf9',
        }}
      >
        {/* ICONO 3D */}
        <div
          className={styles.iconContainer}
          style={{
            backgroundColor: 'white',
            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',
          }}
        >
          <span className={styles.icon}>{event.emoji}</span>
        </div>

        {/* CONTENIDO */}
        <h3 className={styles.title}>{event.title}</h3>
        <p className={styles.microCopy}>{event.microCopy}</p>

        {/* GAMIFICACI√ìN */}
        <div className={styles.gamification}>{event.gamification}</div>

        {/* RADIO BUTTON */}
        <div className={styles.radioContainer}>
          <div
            className={`${styles.radio} ${isSelected ? styles.radioSelected : ''}`}
            style={{
              borderColor: isSelected ? event.accentColor : '#d1d5db',
              backgroundColor: isSelected ? event.accentColor : 'transparent',
            }}
          >
            {isSelected && <span className={styles.checkmark}>‚úì</span>}
          </div>
        </div>
      </div>

      {/* GLITTER PARTICLES */}
      {glitterParticles.map((particle) => (
        <GlitterEffect key={particle.id} particle={particle} />
      ))}
    </>
  );
};

export default EventCard;
```

---

## ‚ú® COMPONENTE GLITTER: GlitterEffect.jsx

```javascript
import React from 'react';
import styles from './styles/EventCard.module.css';

const GlitterEffect = ({ particle }) => {
  return (
    <div
      className={`${styles.glitterParticle} glitter-particle`}
      style={{
        left: particle.x,
        top: particle.y,
        '--tx': `${particle.tx}px`,
        '--ty': `${particle.ty}px`,
        backgroundColor: '#22C55E',
      }}
    />
  );
};

export default GlitterEffect;
```

---

## üé® ESTILOS: EventCard.module.css

```css
.card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  background-color: #fcfcf9;
  cursor: pointer;
  transition: all 200ms ease-out;
  position: relative;
  height: 180px;
  gap: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

/* HOVER STATE */
.card:hover {
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
}

/* SELECTED STATE */
.card.selected {
  border-width: 2px;
}

/* ICONO 3D */
.iconContainer {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background-color: white;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  margin-bottom: 8px;
  flex-shrink: 0;
}

.icon {
  font-size: 32px;
  line-height: 1;
}

/* T√çTULO */
.title {
  font-size: 16px;
  font-weight: 600;
  color: #1f2124;
  margin: 0;
  text-align: center;
}

/* MICRO-COPY */
.microCopy {
  font-size: 13px;
  color: #626c73;
  margin: 0;
  text-align: center;
  line-height: 1.4;
  max-width: 100%;
}

/* GAMIFICACI√ìN */
.gamification {
  font-size: 12px;
  color: #2182 8d;
  font-weight: 500;
  text-align: center;
  margin-top: 4px;
}

/* RADIO BUTTON */
.radioContainer {
  position: absolute;
  top: 12px;
  right: 12px;
}

.radio {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  border: 2px solid #d1d5db;
  border-radius: 50%;
  transition: all 150ms ease-out;
  background-color: transparent;
}

.radioSelected {
  border-color: #22c55e;
  background-color: #22c55e;
}

.checkmark {
  color: white;
  font-size: 12px;
  font-weight: bold;
}

/* GLITTER PARTICLE */
.glitterParticle {
  position: fixed;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  pointer-events: none;
  background-color: #22c55e;
  box-shadow: 0 0 4px rgba(34, 197, 94, 0.6);
}

/* MOBILE RESPONSIVE */
@media (max-width: 600px) {
  .card {
    height: 160px;
    padding: 16px;
    gap: 6px;
  }

  .iconContainer {
    width: 56px;
    height: 56px;
  }

  .icon {
    font-size: 28px;
  }

  .title {
    font-size: 15px;
  }

  .microCopy {
    font-size: 12px;
  }
}
```

---

## üé® ESTILOS: ListCreationStep1.module.css

```css
.container {
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
  padding: 24px 16px;
  background: linear-gradient(135deg, #fcfcf9 0%, #fafaf8 100%);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

/* HEADER */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.backButton {
  background: none;
  border: none;
  color: #626c73;
  cursor: pointer;
  font-size: 14px;
  padding: 8px 12px;
  border-radius: 6px;
  transition: all 150ms ease-out;
}

.backButton:hover {
  background-color: rgba(0, 0, 0, 0.05);
  color: #1f2124;
}

/* PROGRESS */
.progressContainer {
  margin-bottom: 32px;
}

.stepIndicator {
  font-size: 12px;
  color: #626c73;
  font-weight: 500;
  display: block;
  margin-bottom: 8px;
}

.progressBar {
  width: 100%;
  height: 4px;
  background-color: #e5e7eb;
  border-radius: 2px;
  overflow: hidden;
}

.progressFill {
  height: 100%;
  background: linear-gradient(90deg, #22c55e, #10b981);
  transition: width 300ms ease-out;
}

/* CONTENT */
.stepContent {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.title {
  font-size: 20px;
  font-weight: 600;
  color: #1f2124;
  margin: 0;
  text-align: center;
}

/* FORM GROUP */
.formGroup {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.label {
  font-size: 14px;
  font-weight: 500;
  color: #1f2124;
}

.input {
  padding: 10px 12px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  font-size: 14px;
  font-family: inherit;
  transition: all 150ms ease-out;
  background-color: white;
}

.input:focus {
  outline: none;
  border-color: #22c55e;
  box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
}

.inputError {
  border-color: #ef4444;
}

.charCount {
  font-size: 12px;
  color: #9ca3af;
  text-align: right;
}

.error {
  font-size: 12px;
  color: #ef4444;
  font-weight: 500;
}

/* CARDS GRID */
.sectionLabel {
  font-size: 14px;
  font-weight: 500;
  color: #1f2124;
}

.cardsContainer {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
  margin-top: 12px;
}

@media (min-width: 600px) {
  .cardsContainer {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* BOT√ìN */
.button {
  padding: 12px 24px;
  background: linear-gradient(135deg, #22c55e, #16a34a);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 200ms ease-out;
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.2);
  margin-top: 16px;
}

.button:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(34, 197, 94, 0.3);
}

.button:active:not(:disabled) {
  transform: translateY(0);
}

.buttonDisabled {
  opacity: 0.5;
  cursor: not-allowed;
}
```

---

## üìä ANALYTICS: analytics.js

```javascript
export const trackEvent = (eventName, params = {}) => {
  if (typeof window !== 'undefined' && window.gtag) {
    window.gtag('event', eventName, params);
  }
  console.log(`[GA4] ${eventName}`, params);
};
```

---

## ‚úÖ CHECKLIST IMPLEMENTACI√ìN

**LUNES - FRONTEND (1.5 horas):**
- [ ] Crear carpetas y archivos
- [ ] Copiar eventTypes.js
- [ ] Crear ListCreationStep1.jsx
- [ ] Crear EventCard.jsx
- [ ] Crear GlitterEffect.jsx
- [ ] Copiar todos los CSS
- [ ] Testing local (no errores)

**LUNES - BACKEND (1 hora, paralelo):**
- [ ] Crear endpoint POST /api/lists/create
- [ ] Validaciones
- [ ] Respuesta JSON
- [ ] Testing en Postman

**LUNES - INTEGRACI√ìN (30 min):**
- [ ] Conectar Frontend ‚Üí Backend
- [ ] GA4 tracking funcional
- [ ] Mobile testing
- [ ] Deploy a staging

**TOTAL: 3 HORAS**

---

## üöÄ RESULTADO FINAL

‚úÖ 5 Cards con neuro-dise√±o  
‚úÖ Animaciones pulse + glitter  
‚úÖ Micro-copy adictivo  
‚úÖ Progress bar real  
‚úÖ Mobile-responsive  
‚úÖ GA4 tracking  
‚úÖ Validaciones completas  
‚úÖ Production-ready

---

**¬øComenzamos?**
